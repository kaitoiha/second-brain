# #022 チーム機能 - ワークスペース

## ステータス
[ ] 未着手

## 概要
複数ユーザーで共同作業できるワークスペース機能を実装する。

## タスク

### データベーススキーマ拡張
- [ ] `Workspace`モデルの追加
  - [ ] id, name, ownerId, createdAt, updatedAt
- [ ] `WorkspaceMember`モデルの追加
  - [ ] workspaceId, userId, role, joinedAt
- [ ] メモモデルに`workspaceId`を追加
- [ ] カテゴリーモデルに`workspaceId`を追加

### ロール管理
- [ ] ロール定義（Owner, Admin, Member, Viewer）
- [ ] 権限マトリックス
  - [ ] Owner: すべての操作
  - [ ] Admin: メンバー管理、メモ編集
  - [ ] Member: メモ編集
  - [ ] Viewer: 閲覧のみ

### ワークスペース作成
- [ ] `app/(dashboard)/workspaces/new/page.tsx`を作成
- [ ] ワークスペース名入力
- [ ] 作成Server Action
- [ ] デフォルトワークスペースの概念

### ワークスペース一覧
- [ ] `app/(dashboard)/workspaces/page.tsx`を作成
- [ ] ユーザーが所属するワークスペース一覧
- [ ] 切替機能
- [ ] 新規作成ボタン

### ワークスペース切替
- [ ] ワークスペースセレクター
- [ ] ヘッダーまたはサイドバーに配置
- [ ] 選択中のワークスペースを表示
- [ ] セッションに保存

### メモのスコープ
- [ ] すべてのメモにworkspaceIdを設定
- [ ] クエリに自動的にworkspaceIdを追加
- [ ] 個人ワークスペースとチームワークスペースの分離

### RLSポリシーの更新
- [ ] ワークスペースメンバーのみアクセス可能
- [ ] ロールに応じた権限制御

## 完了条件
- [ ] ワークスペースが作成できる
- [ ] ワークスペースを切替できる
- [ ] メモがワークスペースごとに分離される
- [ ] ロールベースの権限が機能する

## 参考
- README.md: Phase 3 - チーム機能 - ワークスペース
