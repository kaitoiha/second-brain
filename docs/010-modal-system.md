# #010 モーダルシステムの実装

## ステータス
[ ] 未着手

## 概要
メモの詳細表示・編集用のモーダルシステムを実装する。

## タスク

### モーダルコンポーネント
- [ ] `components/notes/NoteModal.tsx`を作成
- [ ] オーバーレイ表示
- [ ] モーダルの開閉アニメーション
- [ ] ESCキーで閉じる
- [ ] 背景クリックで閉じる
- [ ] プレビューモードと編集モードの切替

### プレビューモード
- [ ] `components/notes/NotePreview.tsx`を作成
- [ ] タイトル表示
- [ ] カテゴリータグ表示
- [ ] Markdown本文のレンダリング（react-markdown）
- [ ] 作成日時・更新日時
- [ ] 編集ボタン
- [ ] 削除ボタン
- [ ] 閉じるボタン

### 編集モード
- [ ] `components/notes/NoteEditor.tsx`を作成
- [ ] タイトル編集
- [ ] カテゴリー選択
- [ ] Markdown本文編集（textarea）
- [ ] リアルタイムプレビュー（左右分割 or タブ切替）
- [ ] 保存ボタン
- [ ] キャンセルボタン
- [ ] Server Actionで更新

### Markdownレンダリング
- [ ] react-markdownのセットアップ
- [ ] remark-gfmプラグインの統合
- [ ] rehype-highlightでシンタックスハイライト
- [ ] highlight.jsのスタイル適用
- [ ] @tailwindcss/typographyでスタイリング

### モーダル管理Hook
- [ ] `hooks/useModal.ts`を作成
- [ ] モーダルの開閉状態管理
- [ ] 表示するメモのID管理
- [ ] モードの切替（プレビュー/編集）

### メモタイプ別モーダル対応
- [ ] 走り書きメモ用モーダル
- [ ] 文献メモ用モーダル（URL表示）
- [ ] 永久保存メモ用モーダル（元メモ情報、グラフ表示フラグ）

### レスポンシブ対応
- [ ] デスクトップ: 大きなモーダル
- [ ] モバイル: フルスクリーン表示

### アクセシビリティ
- [ ] フォーカストラップ
- [ ] aria-labelの設定
- [ ] キーボードナビゲーション

## 完了条件
- [ ] モーダルが正しく開閉する
- [ ] プレビューモードでメモが表示される
- [ ] 編集モードで内容を変更できる
- [ ] Markdownが正しくレンダリングされる
- [ ] シンタックスハイライトが機能する
- [ ] レスポンシブデザインが動作する
- [ ] 各メモタイプに対応している

## 参考
- CLAUDE.md: UI/UXアーキテクチャ - モーダルの挙動
- CLAUDE.md: 重要な設計上の注意点 - Markdownエディタの実装
- README.md: モーダル表示
- README.md: Markdownエディタ
