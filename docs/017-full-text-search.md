# #017 全文検索機能の実装

## ステータス
[ ] 未着手

## 概要
タイトルと本文を対象とした全文検索機能を実装する。

## タスク

### 検索ライブラリの選定
- [ ] オプション1: Supabase Full Text Search
- [ ] オプション2: Fuse.js（クライアントサイド）
- [ ] オプション3: Algolia（無料枠）
- [ ] パフォーマンスとコストを比較
- [ ] 最適な選択肢を決定

### 検索インデックスの作成（Supabase FTS使用の場合）
- [ ] PostgreSQLのFTS設定
- [ ] tsvectorカラムの追加
- [ ] GINインデックスの作成
- [ ] トリガーで自動更新

### 検索API Route
- [ ] `app/api/search/route.ts`を作成
- [ ] クエリパラメータで検索語を受け取る
- [ ] タイトル・本文を検索
- [ ] 関連度でソート
- [ ] ページネーション

### 検索結果ページ
- [ ] `app/(dashboard)/search/page.tsx`を更新
- [ ] 検索バーからのクエリを受け取る
- [ ] 検索結果を一覧表示
- [ ] メモタイプ別にグループ化
- [ ] ハイライト表示

### 検索結果カード
- [ ] `components/search/SearchResultCard.tsx`を更新
- [ ] メモタイプバッジ
- [ ] タイトル（マッチ部分ハイライト）
- [ ] 本文スニペット（マッチ部分ハイライト）
- [ ] カテゴリータグ
- [ ] クリックでモーダル表示

### フィルタリング機能
- [ ] メモタイプフィルター（走り書き/文献/永久保存）
- [ ] カテゴリーフィルター
- [ ] 日付範囲フィルター

### 検索サジェスト
- [ ] 入力中にサジェスト表示
- [ ] 過去の検索履歴
- [ ] 人気のあるキーワード

### パフォーマンス最適化
- [ ] デバウンス処理
- [ ] キャッシング
- [ ] インデックス最適化

## 完了条件
- [ ] 検索機能が動作する
- [ ] タイトルと本文から検索できる
- [ ] 検索結果が正しく表示される
- [ ] マッチ部分がハイライトされる
- [ ] フィルタリングが機能する
- [ ] パフォーマンスが良好

## 参考
- CLAUDE.md: 実装フェーズ - Phase 2
- README.md: 検索機能（Phase 2以降）
